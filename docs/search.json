[
  {
    "objectID": "desarrollo.html",
    "href": "desarrollo.html",
    "title": "Propuesta de adaptaci√≥n BD masiva a desarrollo actual del m√≥dulo de campa√±as",
    "section": "",
    "text": "Para la generaci√≥n de la BD de mails masiva se llev√≥ a cabo una tarea de ETL (Extracci√≥n, transformaci√≥n, carga) de datos.\n\nExtracci√≥n de datos de mails (y otros atributos) de las distintas fuentes existentes y presentadas.\nTransformaci√≥n de los datos que implica la limpieza y procesamiento de los mismos, por ejemplo normalizaci√≥n de atributos, verificaci√≥n de mail, etc.\nCarga de los datos transformados y unificados en una tabla (con esquema desnormalizado), en donde los mails son un √≠ndice √∫nico.\n\nDIAGRAMAS\nAUTOMATIZACI√ìN C√ìMO TAREA FALTANTE"
  },
  {
    "objectID": "desarrollo.html#etl",
    "href": "desarrollo.html#etl",
    "title": "Propuesta de adaptaci√≥n BD masiva a desarrollo actual del m√≥dulo de campa√±as",
    "section": "",
    "text": "Para la generaci√≥n de la BD de mails masiva se llev√≥ a cabo una tarea de ETL (Extracci√≥n, transformaci√≥n, carga) de datos.\n\nExtracci√≥n de datos de mails (y otros atributos) de las distintas fuentes existentes y presentadas.\nTransformaci√≥n de los datos que implica la limpieza y procesamiento de los mismos, por ejemplo normalizaci√≥n de atributos, verificaci√≥n de mail, etc.\nCarga de los datos transformados y unificados en una tabla (con esquema desnormalizado), en donde los mails son un √≠ndice √∫nico.\n\nDIAGRAMAS\nAUTOMATIZACI√ìN C√ìMO TAREA FALTANTE"
  },
  {
    "objectID": "desarrollo.html#conjuntos-de-destinatarios",
    "href": "desarrollo.html#conjuntos-de-destinatarios",
    "title": "Propuesta de adaptaci√≥n BD masiva a desarrollo actual del m√≥dulo de campa√±as",
    "section": "Conjuntos de destinatarios",
    "text": "Conjuntos de destinatarios\nDe acuerdo a los requerimientos que nos pasaron en su momento, debemos considerar los siguientes conjuntos de destinatarios:\n\nInspectores generales y supervisores de nivel Inicial\nDirectores de escuelas de niveles Inicial\nInspectores generales y supervisores de nivel Primario\nDirectores de escuelas de niveles Primario\nInspectores generales y supervisores de nivel Secundario\nDirectores de escuelas de niveles Secundario\nInspectores generales y supervisores de nivel Superior\nIFD p√∫blicos de toda la provincia (se pueden segregar por departamento, ciudad y carreras que dictan)\nIFD privados de toda la provincia (se pueden segregar por departamento, ciudad y carreras que dictan)\nBase de ingl√©s: todas las personas que tengan cargado que dan ingl√©s en nuestra base de datos; todos los profes que dan ingl√©s en Jornada Extendida (base externa); toda la gente de la comunidad de pr√°cticas que de ingl√©s; toda la gente que se curs√≥ los Ateneos de ingl√©s; todas las personas que se anotaron a conversatorios de ingl√©s; todas las bases de datos que tengan el programa Entre Lenguas.\nBase masiva: armar una nueva que traiga: personas (autogesti√≥n), inscriptos a eventos (no repetidos en Personas); personas que se suscriben en el portal y HE; bases de datos externas (supervisores, directores de escuelas).\nBase HE, separada por niveles. Todos los que se suscribieron de acuerdo al nivel que hayan indicado; todas las personas de la base ISEP de la que podemos rastrear el nivel de desempe√±o.\n\nPor orden de prioridad y necesidad, arrancaremos por el grupo destinatario m√°s grande: destinatarios para campa√±as masivas."
  },
  {
    "objectID": "desarrollo.html#destinatarios-para-campa√±as-masivas",
    "href": "desarrollo.html#destinatarios-para-campa√±as-masivas",
    "title": "Propuesta de adaptaci√≥n BD masiva a desarrollo actual del m√≥dulo de campa√±as",
    "section": "Destinatarios para campa√±as masivas",
    "text": "Destinatarios para campa√±as masivas\nDe acuerdo a lo anterior, se pide que el listado de destinatarios est√© conformado por:\n\npersonas (autogesti√≥n), inscriptos a eventos (no repetidos en Personas); personas que se suscriben en el portal y HE; bases de datos externas (supervisores, directores de escuelas).\n\nPero antes repasemos la consulta que actualmente est√° siendo utilizada para este tipo de campa√±as:\n\n\nSELECT `dni`, `nombre`, `apellido`, `emails` as `email1`, \n'' as email2, `email_gapp`, `personas`.`idpersona` as `p_idpersona`, \n0 as `c_idmatriculacion`\n\nFROM `personas`\nWHERE `emails` NOT IN (select email1 from mailing_altasbajas where tipo=\"baja\")\nAND `email_gapp` NOT IN (select email1 from mailing_altasbajas where tipo=\"baja\")\nAND personas.idpersona NOT IN (SELECT `idpersona`\nFROM `mailing_destinatarios`\nWHERE `idcampania` = '1956') \n\nunion \n\nSELECT '' as dni, `nombre` as `nombre`, `apellido` as `apellido`, \n`email1` as `email1`, `email2` as `email2`, '' as email_gapp, \n0 as `p_idpersona`, 0 as `c_idmatriculacion`\nFROM `mailing_altasbajas`\nWHERE `tipo` = 'alta'\nAND `categoria` = 'Suscripci√≥n voluntaria'\nAND `email1` NOT IN (select email1 from mailing_altasbajas where tipo=\"baja\")\n\n\n\n\n\n\nNota\n\n\n\nComo se puede observar, esta consulta √∫nicamente considera el grupo de personas de autogesti√≥n y suscripciones voluntarias, haciendo que el ‚Äúalcance‚Äù o ‚Äúllegada‚Äù sea menor a lo que se propone en este tipo de campa√±as ‚Äúmasivas‚Äù. Por otro lado como se analiz√≥ en su momento, √∫nicamente (y mayoritariamente) se est√° llegando a docentes que ya han interactuado con al menos una propuesta en el ISEP.\n\n\nA continuaci√≥n se indica la disponibilidad de cada una de las columnas en la nueva BD de mails:\n\ndni (s√≥lo si se tiene el dato de la fuente de origen, por ejemplo, las cuentas que se obtienen de autogesti√≥n s√≠ cuentan con este campo)\nnombre (casi siempre, √≠dem dni)\napellido (casi siempre, √≠dem dni)\nemail1 (se hace la suposici√≥n de que este campo es el ‚Äúmail personal‚Äù, siempre va a estar disponible)\nemail2 (al parecer este campo no se utiliza)\nemail_gapp (el correo institucional, s√≥lo para personas que han interactuado con alguna propuesta del ISEP)\np_idpersona (√≠dem email_gapp, este campo actualmente no existe en la BD de mails, se puede considerar sumar este atributo, pero‚Ä¶ ¬øse utiliza?)\nc_idmatriculacion (al parecer este campo no se utiliza)\n\nEn base a lo anterior debemos analizar tambi√©n qu√© campos se pueden ‚Äúquitar‚Äù en la nueva consulta y cuales permanecen. Para esto debemos evaluar si el m√≥dulo ‚Äúexige‚Äù la existencia de ciertos atributos o no:\n\n¬øCu√°les son obligatorios?\n¬øDe cu√°les podemos prescindir?\n¬øLas campa√±as masivas hacen uso de todos esos atributos? ¬øSe usa el nombre? ¬øSe usa el apellido?\n\nA veces este tipo de preguntas sumadas a la propuesta de un esquema nuevo de BD, nos llevan a evaluar la necesidad de agregar nueva l√≥gica o bien, modificar la actual, c√≥mo por ejemplo para el caso del atributo nombre:\n\n\n\n\n\nflowchart LR\n  C{\"¬øTengo el dato del nombre?\"}\n  C-- S√≠ --&gt;D[\"Estimado {nombre}, ...\"]\n  C-- No --&gt;E[\"Estimado docente, ...\"]\n\n\n\n\n\n\nEsto, al momento de ‚Äúrenderizar‚Äù la plantilla o cuerpo del mail con los datos correspondientes. Pero obviamente esto queda sujeto a debate y an√°lisis correspondientes.\nVolviendo al caso, la fuente de mails masiva tiene la particularidad de que podemos agrupar cuentas por DNI pero, como se indic√≥ anteriormente, este atributo no figura en todas las fuentes originales. Debido a esto se proponen dos grupos que luego ser√°n unificadas.\n\nCon el dato DNI: se agrupan las cuentas en base a este atributo para identificar aquellas que pertenecen a una misma persona. Este grupo contempla (o contiene) las cuentas de personas que han pasado por el ISEP, es decir, contiene en su mayor√≠a al conjunto de cuentas que estaba siendo utilizado en las campa√±as masivas hacia finales del 2023. Pero tambi√©n pueden ser cuentas de personas que no interactuaron con el ISEP y por lo tanto no tienen el dato de cuenta institucional, pero s√≠ el personal.\nSin el dato DNI: lo que se considera como ‚Äúel resto‚Äù. Cuentas de otras fuentes que no contengan el dato de DNI y que, por lo tanto, no podemos identificar la persona a la que pertenece y de esta forma agruparlos.\n\nRecordemos que ya que la fuente de mails tiene como base la caracter√≠stica de unicidad en las cuentas de correo, sabemos que en los grupos que se generen no va a haber cuentas repetidas (tanto al interior como entre grupos). Ojo!! que esto no nos asegura que un mail que exista en el segundo grupo no pertenezca a una persona del primero pero al no tener el dato de DNI, no lo podremos saber.\n\n\n\n\n\n\nNota\n\n\n\nEl autor considera que no tiene sentido armar una heur√≠stica avanzada que permita unificar mails en base a otros atr√≠butos ya que es un trabajo que lleva su tiempo y esto s√≥lo justifica un esquema en que los registros son personas √∫nicas.\nPara el autor, cada registro en la BD masiva es una cuenta de correo √∫nica como dato principal, con los atributos que hacen de metadato para conocer un poco m√°s sobre el origen de la cuenta. De esta forma, se puede decidir c√≥mo proceder en agrupar o generar ‚Äúbolsas‚Äù de cuentas a las cuales enviar campa√±as.\nEs una de las tantas formas de abstraer el problema.\n\n\n\n\n\n\n\n\nImportante\n\n\n\nEl desarrollo de la fuente de mails masiva, contempla la idea GIGO (garbage IN, garbage OUT), ‚Äúbasura entra, basura sale‚Äù. En ese sentido si la fuente de origen tiene errores o inconsistencias, las mismas se ver√°n reflejadas en las fuentes resultantes (o anal√≠ticas). Esto viene al caso por un error que se detect√≥ hace poco sobre dos persona (de la tabla personas, fuente de origen) que compart√≠an el mismo DNI. Esto se vi√≥ reflejado en la BD de mails ya que no permite identificar a qu√© persona corresponde la cuenta y por lo tanto el proceso de unificar resuelve de manera err√≥nea para estas dos cuentas.\nEl desarrollo de este tipo de fuentes o data warehouses, generalmente considera que las fuentes de origen son lo suficientemente robustas, consistentes y entonces s√≥lo se enfoca el trabajo en normalizar o limpiar datos, pero no en corregirlos.\n\n\n\nGrupo 1\nTomando como referencia las columnas de la consulta actual para destinatarios de campa√±as masivas:\n\n-- REGISTROS QUE CUENTAN CON EL DATO DE DNI\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\nGROUP BY mas.dni;\nhemos conservado los mismos campos pero con algunas consideraciones:\n\np_idpersona ahora es NULL\nc_idmatriculacion ahora es NULL\n\nPor otro lado, como se puede notar en los primeros registros que devuelve la consulta:\n\n\n\nprimeros registros de la consulta para el grupo 1\n\n\nalgunos DNI tienen un formato incorrecto: algunos con pocos d√≠gitos, en otros todos los d√≠gitos son cero, otros empiezan por cero, etc. Esto es consecuencia de la idea GIGO (basura entra, basura sale). Las fuentes de origen tienen el dato de DNI mal formateado, sin verificaci√≥n, etc. Sin embargo el mail asociado (el personal) es correcto (al menos estructuralmente o en t√©rminos de sintaxis). A ra√≠z de esto se recomienda revisar las reglas de verificaci√≥n en las distintas fuentes que admiten el dato de DNI a partir de formularios. Por otro lado se puede revisar el tipo de dato en las tablas de la BD.\nDado esto √∫ltimo, se proponen 2 opciones:\n\nSe deja tal como est√°: sabemos que la cuenta est√° bien y el campo DNI no es relevante en el env√≠o de campa√±as, s√≥lo es √∫til para agrupar cuentas asociadas a una misma persona. Esto se corrige autom√°ticamente, al corregir la fuente de origen (GIGO).\nSe hace un filtro posterior, dejando √∫nicamente los registros con el campo DNI ‚Äúcorrecto‚Äù. Esto va acorde a la ‚Äúcultura‚Äù del parche constante.\n\nEn este caso se procede con la opci√≥n n√∫mero 1.\n\n\nGrupo 2\nSimilar al Grupo 1 pero notar que cambia el WHERE y ya no se agrupan registros.\n\n-- REGISTROS QUE NO CUENTAN CON EL DATO DE DNI\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\";\nEste grupo contiene muchos menos registros que el primero. Algunas observaciones:\n\nNing√∫n registro tiene el dato de email_gapp (o cuenta institucional).\nSe puede observar que varios registros no tienen el dato de Nombre y/o Apellido. Esto se debe a las fuentes de origen que mayormente ‚Äúalimentan‚Äù a este grupo (fuentes externas a la de personas en donde nombre/apellido/dni no parecen ser datos relevantes).\n\n\n\nUnificaci√≥n de grupos\nFinalmente se procede con la uni√≥n de ambos grupos para construir la consulta definitiva de destinatarios de campa√±as masivas:\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\";"
  },
  {
    "objectID": "desarrollo.html#grupos-destinatarios-espec√≠ficos",
    "href": "desarrollo.html#grupos-destinatarios-espec√≠ficos",
    "title": "Propuesta de adaptaci√≥n BD masiva a desarrollo actual del m√≥dulo de campa√±as",
    "section": "Grupos destinatarios espec√≠ficos",
    "text": "Grupos destinatarios espec√≠ficos\nPara todos estos grupos, se aprovechan los distintos atributos de la fuente de mails masiva. Esto se ver√° reflejado en la parte del WHERE en las siguientes consultas.\n\nInspectores generales y supervisores de nivel Inicial\nEn este caso se filtran:\n\ncuentas que provienen de la fuente de supervisores sup\nadem√°s que sean de nivel inicial inicial=1\n\nSimilar a la consulta general (de campa√±a masiva), se hace una divisi√≥n en grupos de registros con existencia del dato de DNI y sin existencia del mismo. Esto para evitar que a una persona le llegue el mismo mail m√°s de una vez (aunque se deber√≠a verificar que en t√©rminos de env√≠o, da lo mismo enviar un mail con CC o enviar dos mails distintos o bien, enviar un mail con una ‚Äúbolsa‚Äù de mails en CCO):\n\n\n\n\n\n\nNota\n\n\n\nPor ejemplo, se deber√≠an evaluar las distintas opciones en el env√≠o de mails:\nOpci√≥n 1 (la actual):\nsuponiendo que mail1@dom.com y mail2@dom.com pertenecen a la misma persona, en un mismo env√≠o:\n\nTO: mail1@dom.com\nCC: mail2@dom.com\n\nOpci√≥n 2 (una cuenta, un mail):\nEsta es la opci√≥n que se ajusta al esquema de la BD de cuentas\n\nenv√≠o 1 -&gt; TO: mail1@dom.com\nenv√≠o 2 -&gt; TO: mail2@dom.com\n\nEsta opci√≥n pareciera ser la menos eficiente, aunque si la opci√≥n 1 por detr√°s resuelve de esta manera, entonces es lo mismo.\nOpci√≥n 3 (CCO como ‚Äúbolsa‚Äù de mails):\nEsta opci√≥n es la que se usa generalmente para campa√±as de marketing pero siguiendo determinadas ‚Äúbuenas pr√°cticas‚Äù u otros servicios. En este caso ya no se tiene un mail por persona, la idea es enviar un mail a una ‚Äúbolsa‚Äù de cuentas.\n\nTO:\nCCO: mail1@dom.com, mail2@dom.com, mail3@dom.com, mail4@dom.com, . . .\n\nTodo esto est√° sujeto a an√°lisis e investigaci√≥nüîé.\n\n\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%sup%\" AND mas.inicial=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%sup%\" AND mas.inicial=1\n\n\nDirectores de escuelas de niveles Inicial\nEn este caso se filtran registros que:\n\nprovienen de la fuente dir\ny que sean de nivel inicial inicial=1\n\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%dir%\" AND mas.inicial=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%dir%\" AND mas.inicial=1\n\n\nInspectores generales y supervisores de nivel Primario\nSimilar a la versi√≥n de nivel inicial pero ahora filtrando por nivel primario primaria=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%sup%\" AND mas.primaria=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%sup%\" AND mas.primaria=1\n\n\nDirectores de escuelas de niveles Primario\nSimilar a la versi√≥n de nivel inicial pero ahora filtrando por nivel primario primaria=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%dir%\" AND mas.primaria=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%dir%\" AND mas.primaria=1\n\n\nInspectores generales y supervisores de nivel Secundario\nSimilar a las versiones anteriores pero ahora filtrando por nivel secundario secundaria=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%sup%\" AND mas.secundaria=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%sup%\" AND mas.secundaria=1\n\n\nDirectores de escuelas de niveles Secundario\nSimilar a las versiones anteriores pero ahora filtrando por nivel secundario secundaria=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%dir%\" AND mas.secundaria=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%dir%\" AND mas.secundaria=1\n\n\nInspectores generales y supervisores de nivel Superior\nSimilar a las versiones anteriores pero ahora filtrando por nivel superior superior=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%sup%\" AND mas.superior=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%sup%\" AND mas.superior=1\n\n\nIFD p√∫blicos de toda la provincia (se pueden segregar por departamento, ciudad y carreras que dictan)\nCabe destacar que para este conjunto de cuentas no se cuenta con los mismos atributos que para cuentas asociadas a ‚Äúpersonas‚Äù: dni, nombre, apellido, email_gapp. El autor va a replicar los campos de la consulta general hasta que se defina qu√© campos van a llevar estos grupos.\n\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.fuente like \"%ifd%\" and  mas.ifd_gest_estatal=1;\n\n\nIFD privados de toda la provincia (se pueden segregar por departamento, ciudad y carreras que dictan)\n\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.fuente like \"%ifd%\" and  mas.ifd_gest_privada=1;\n\n\nBase de ingl√©s\n\nTodas las personas que tengan cargado que dan ingl√©s en nuestra base de datos; todos los profes que dan ingl√©s en Jornada Extendida (base externa); toda la gente de la comunidad de pr√°cticas que de ingl√©s; toda la gente que se curs√≥ los Ateneos de ingl√©s; todas las personas que se anotaron a conversatorios de ingl√©s; todas las bases de datos que tengan el programa Entre Lenguas.\n\nEste grupo tiene m√∫ltiples condiciones o mejor dicho, est√° conformado por m√∫ltiples ‚Äúsub-grupos‚Äù.\nPara identificar cuentas pertenecientes a personas que dan ingl√©s y/o que cursaron alguna propuesta asociada al √°rea de ingl√©s, se sum√≥ el atributo ingles. Para la construcci√≥n de este atributo se consideran:\n\nPersonas que figuran como ‚Äúactivas‚Äù en alg√∫n cargo/rol de docencia en el √°rea ingl√©s\nPersonas que han interactuado con alguna de las propuestas indicadas (ateneos, conversatorios).\n\nEl resto de ‚Äúsub-grupos‚Äù se extraen de las siguientes fuentes:\n\nDocentes de Ingl√©s, Jornada Extendida 2022: ije22\nDocentes de Ingl√©s, Jornada Extendida 2023: ije23\nTodas las bases de datos que tengan el programa Entre Lenguas: el22, el23\n\nCabe destacar que todas estas fuentes fueron importadas inicialmente a partir de un archivo excel compartido por el √°rea de comunicaci√≥n. En ese sentido, se deben actualizar a demanda y/o sumar seg√∫n se vayan generando nuevas ediciones.\nFinalmente, debido a que las cuentas pueden salir de diversas fuentes y por lo tanto podemos tener el dato del DNI, se retoma la idea de combinar los dos posibles grupos.\nEntonces la consulta queda de la siguiente manera:\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\" AND\n    (mas.fuente like \"%ije%\" OR mas.fuente like \"%el%\" OR mas.ingles=1)\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n    (mas.fuente like \"%ije%\" OR mas.fuente like \"%el%\" OR mas.ingles=1);"
  },
  {
    "objectID": "desarrollo.html#base-he-separada-por-niveles",
    "href": "desarrollo.html#base-he-separada-por-niveles",
    "title": "Propuesta de adaptaci√≥n BD masiva a desarrollo actual del m√≥dulo de campa√±as",
    "section": "Base HE, separada por niveles",
    "text": "Base HE, separada por niveles\n\nTodos los que se suscribieron de acuerdo al nivel que hayan indicado; todas las personas de la base ISEP de la que podemos rastrear el nivel de desempe√±o.\n\nEsta fuente a√∫n no fue agregada ya que debemos analizar c√≥mo obtener el listado de personas que se suscribieron en la plataforma."
  },
  {
    "objectID": "desarrollo.html#grupos-de-destinatarios-espec√≠ficos",
    "href": "desarrollo.html#grupos-de-destinatarios-espec√≠ficos",
    "title": "Propuesta de adaptaci√≥n BD masiva a desarrollo actual del m√≥dulo de campa√±as",
    "section": "Grupos de destinatarios espec√≠ficos",
    "text": "Grupos de destinatarios espec√≠ficos\nPara todos estos grupos, se aprovechan los distintos atributos de la fuente de mails masiva. Esto se ver√° reflejado en la parte del WHERE en las siguientes consultas.\n\nInspectores generales y supervisores de nivel Inicial\nEn este caso se filtran:\n\ncuentas que provienen de la fuente de supervisores sup\nadem√°s que sean de nivel inicial inicial=1\n\nSimilar a la consulta general (de campa√±a masiva), se hace una divisi√≥n en grupos de registros con existencia del dato de DNI y sin existencia del mismo. Esto para evitar que a una persona le llegue el mismo mail m√°s de una vez (aunque se deber√≠a verificar que en t√©rminos de env√≠o, da lo mismo enviar un mail con CC o enviar dos mails distintos o bien, enviar un mail con una ‚Äúbolsa‚Äù de mails en CCO):\n\n\n\n\n\n\nNota\n\n\n\nPor ejemplo, se deber√≠an evaluar las distintas opciones en el env√≠o de mails:\nOpci√≥n 1 (la actual):\nsuponiendo que mail1@dom.com y mail2@dom.com pertenecen a la misma persona, en un mismo env√≠o:\n\nTO: mail1@dom.com\nCC: mail2@dom.com\n\nOpci√≥n 2 (una cuenta, un mail):\nEsta es la opci√≥n que se ajusta al esquema de la BD de cuentas\n\nenv√≠o 1 -&gt; TO: mail1@dom.com\nenv√≠o 2 -&gt; TO: mail2@dom.com\n\nEsta opci√≥n pareciera ser la menos eficiente, aunque si la opci√≥n 1 por detr√°s resuelve de esta manera, entonces es lo mismo.\nOpci√≥n 3 (CCO como ‚Äúbolsa‚Äù de mails):\nEsta opci√≥n es la que se usa generalmente para campa√±as de marketing pero siguiendo determinadas ‚Äúbuenas pr√°cticas‚Äù u otros servicios. En este caso ya no se tiene un mail por persona, la idea es enviar un mail a una ‚Äúbolsa‚Äù de cuentas.\n\nTO:\nCCO: mail1@dom.com, mail2@dom.com, mail3@dom.com, mail4@dom.com, . . .\n\nTodo esto est√° sujeto a an√°lisis e investigaci√≥nüîé.\n\n\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%sup%\" AND mas.inicial=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%sup%\" AND mas.inicial=1\n\n\nDirectores de escuelas de niveles Inicial\nEn este caso se filtran registros que:\n\nprovienen de la fuente dir\ny que sean de nivel inicial inicial=1\n\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%dir%\" AND mas.inicial=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%dir%\" AND mas.inicial=1\n\n\nInspectores generales y supervisores de nivel Primario\nSimilar a la versi√≥n de nivel inicial pero ahora filtrando por nivel primario primaria=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%sup%\" AND mas.primaria=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%sup%\" AND mas.primaria=1\n\n\nDirectores de escuelas de niveles Primario\nSimilar a la versi√≥n de nivel inicial pero ahora filtrando por nivel primario primaria=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%dir%\" AND mas.primaria=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%dir%\" AND mas.primaria=1\n\n\nInspectores generales y supervisores de nivel Secundario\nSimilar a las versiones anteriores pero ahora filtrando por nivel secundario secundaria=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%sup%\" AND mas.secundaria=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%sup%\" AND mas.secundaria=1\n\n\nDirectores de escuelas de niveles Secundario\nSimilar a las versiones anteriores pero ahora filtrando por nivel secundario secundaria=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%dir%\" AND mas.secundaria=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%dir%\" AND mas.secundaria=1\n\n\nInspectores generales y supervisores de nivel Superior\nSimilar a las versiones anteriores pero ahora filtrando por nivel superior superior=1\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\"\n  AND mas.fuente like \"%sup%\" AND mas.superior=1\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n  mas.fuente like \"%sup%\" AND mas.superior=1\n\n\nIFD p√∫blicos de toda la provincia (se pueden segregar por departamento, ciudad y carreras que dictan)\nCabe destacar que para este conjunto de cuentas no se cuenta con los mismos atributos que para cuentas asociadas a ‚Äúpersonas‚Äù: dni, nombre, apellido, email_gapp. El autor va a replicar los campos de la consulta general hasta que se defina qu√© campos van a llevar estos grupos.\n\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.fuente like \"%ifd%\" and  mas.ifd_gest_estatal=1;\n\n\nIFD privados de toda la provincia (se pueden segregar por departamento, ciudad y carreras que dictan)\n\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.fuente like \"%ifd%\" and  mas.ifd_gest_privada=1;\n\n\nBase de ingl√©s\n\nTodas las personas que tengan cargado que dan ingl√©s en nuestra base de datos; todos los profes que dan ingl√©s en Jornada Extendida (base externa); toda la gente de la comunidad de pr√°cticas que de ingl√©s; toda la gente que se curs√≥ los Ateneos de ingl√©s; todas las personas que se anotaron a conversatorios de ingl√©s; todas las bases de datos que tengan el programa Entre Lenguas.\n\nEste grupo tiene m√∫ltiples condiciones o mejor dicho, est√° conformado por m√∫ltiples ‚Äúsub-grupos‚Äù.\nPara identificar cuentas pertenecientes a personas que dan ingl√©s y/o que cursaron alguna propuesta asociada al √°rea de ingl√©s, se sum√≥ el atributo ingles. Para la construcci√≥n de este atributo se consideran:\n\nPersonas que figuran como ‚Äúactivas‚Äù en alg√∫n cargo/rol de docencia en el √°rea ingl√©s\nPersonas que han interactuado con alguna de las propuestas indicadas (ateneos, conversatorios).\n\nEl resto de ‚Äúsub-grupos‚Äù se extraen de las siguientes fuentes:\n\nDocentes de Ingl√©s, Jornada Extendida 2022: ije22\nDocentes de Ingl√©s, Jornada Extendida 2023: ije23\nTodas las bases de datos que tengan el programa Entre Lenguas: el22, el23\n\nCabe destacar que todas estas fuentes fueron importadas inicialmente a partir de un archivo excel compartido por el √°rea de comunicaci√≥n. En ese sentido, se deben actualizar a demanda y/o sumar seg√∫n se vayan generando nuevas ediciones.\n\n\n\n\n\n\nNota\n\n\n\nPara mantener un registro del origen, estado y otros metadatos sobre estas fuentes, se gener√≥ la tabla: grupos_campania.\n\n\n\ntabla con metadatos sobre las fuentes externas a la BD de autogesti√≥n\n\n\n\n\nFinalmente, debido a que las cuentas pueden salir de diversas fuentes y por lo tanto podemos tener el dato del DNI, se retoma la idea de combinar los dos posibles grupos.\nEntonces la consulta queda de la siguiente manera:\n\n-- GRUPO 1\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    max(if(mas.cuenta_institucional=1,mas.email,NULL)) as email_gapp,\n    max(if(mas.cuenta_institucional=0,mas.email,NULL)) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NOT NULL and mas.suscripcion=\"si\" AND\n    (mas.fuente like \"%ije%\" OR mas.fuente like \"%el%\" OR mas.ingles=1)\nGROUP BY mas.dni\n\nUNION\n\n-- GRUPO 2\nSELECT mas.dni,\n    mas.nombre, mas.apellido,\n    if(mas.cuenta_institucional=1,mas.email,NULL) as email_gapp,\n    if(mas.cuenta_institucional=0,mas.email,NULL) as email1,\n    '' as email2, NULL as p_idpersona, NULL as c_idmatriculacion\nFROM campanias_cuentas_masiva as mas\nWHERE mas.dni IS NULL and mas.suscripcion=\"si\" AND\n    (mas.fuente like \"%ije%\" OR mas.fuente like \"%el%\" OR mas.ingles=1);\n\n\nBase HE, separada por niveles\n\nTodos los que se suscribieron de acuerdo al nivel que hayan indicado; todas las personas de la base ISEP de la que podemos rastrear el nivel de desempe√±o.\n\nEsta fuente a√∫n no fue agregada ya que debemos analizar c√≥mo obtener el listado de personas que se suscribieron en la plataforma."
  }
]